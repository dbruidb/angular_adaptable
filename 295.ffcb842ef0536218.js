"use strict";(self.webpackChunknrleague=self.webpackChunknrleague||[]).push([[295],{5295:(ne,b,c)=>{c.r(b),c.d(b,{default:()=>K});var e=c(4438);let y=(()=>{class a{constructor(){}enlaceImagen="";ngOnInit(){}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=e.VBU({type:a,selectors:[["app-modal-img"]],inputs:{enlaceImagen:"enlaceImagen"},standalone:!0,features:[e.aNF],decls:13,vars:2,consts:[["id","modal_imagen","tabindex","-1","aria-labelledby","modal_imagen","aria-hidden","true",1,"modal","fade","col-12"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"card","p-2"],[1,"w-100"],[1,"w-100","border","border-dark",3,"src"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Imagen"),e.k0s(),e.nrm(6,"button",5),e.k0s(),e.j41(7,"div",6)(8,"div",7)(9,"span",8),e.EFF(10),e.k0s(),e.nrm(11,"br")(12,"img",9),e.k0s()()()()()),2&n&&(e.R7$(10),e.SpI(" ",i.enlaceImagen,""),e.R7$(2),e.Y8G("src",i.enlaceImagen,e.B4B))},encapsulation:2})}return a})();var s=c(4341),m=c(177);function v(a,l){if(1&a&&(e.j41(0,"div"),e.nrm(1,"input",13)(2,"br"),e.k0s()),2&a){const t=e.XpG().$implicit;e.R7$(),e.Y8G("formControlName",t.nombre)}}function I(a,l){if(1&a&&(e.j41(0,"div")(1,"p",14),e.EFF(2),e.k0s(),e.nrm(3,"input",15)(4,"br"),e.k0s()),2&a){const t=e.XpG().$implicit;e.R7$(2),e.JRh(t.etiqueta),e.R7$(),e.Y8G("formControlName",t.nombre)}}function j(a,l){if(1&a&&(e.j41(0,"option",18),e.EFF(1),e.k0s()),2&a){const t=l.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t,"")}}function S(a,l){if(1&a&&(e.j41(0,"div")(1,"p",14),e.EFF(2),e.k0s(),e.j41(3,"select",16),e.DNE(4,j,2,2,"option",17),e.k0s(),e.nrm(5,"br"),e.k0s()),2&a){const t=e.XpG().$implicit;e.R7$(2),e.JRh(t.etiqueta),e.R7$(),e.Y8G("formControlName",t.nombre),e.R7$(),e.Y8G("ngForOf",t.opciones)}}function T(a,l){if(1&a&&(e.qex(0)(1,11),e.DNE(2,v,3,1,"div",12)(3,I,5,2,"div",12)(4,S,6,3,"div",12),e.bVm()()),2&a){const t=l.$implicit;e.R7$(),e.Y8G("ngSwitch",t.tipo),e.R7$(),e.Y8G("ngSwitchCase","hidden"),e.R7$(),e.Y8G("ngSwitchCase","text"),e.R7$(),e.Y8G("ngSwitchCase","select")}}let D=(()=>{class a{ngOnChanges(){this.formData=new s.gE({}),this.construirForm(),this.modal_item&&("editar"==this.funcion&&this.item_keys.forEach(t=>{this.formData.get(t).setValue(this.modal_item[t])}),"a\xf1adir"==this.funcion&&this.item_keys.forEach(t=>{this.formData.get(t).setValue("")}))}formData=new s.gE({});modal_form=[];modal_item="";funcion="";editarItem=new e.bkB;nuevoItem=new e.bkB;item_keys=[];constructor(){this.construirForm()}construirForm(){this.modal_form&&this.modal_form.forEach(t=>{this.formData.addControl(t.nombre,new s.MJ({value:"",disabled:t.deshabilitado}))})}guardarDatos(){let t;switch(this.item_keys.forEach(n=>{t={...t,[n]:this.formData.get(n).value}}),console.log(t),this.funcion){case"editar":this.editarItem.emit(t);break;case"a\xf1adir":this.nuevoItem.emit(t)}}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=e.VBU({type:a,selectors:[["app-modal-data"]],inputs:{modal_form:"modal_form",modal_item:"modal_item",funcion:"funcion",item_keys:"item_keys"},outputs:{editarItem:"editarItem",nuevoItem:"nuevoItem"},standalone:!0,features:[e.OA$,e.aNF],decls:13,vars:2,consts:[["id","modal_edit","tabindex","-1","aria-labelledby","modal_edit","aria-hidden","true",1,"modal","fade","col-12"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["id","newdata",1,"mx-4",3,"formGroup"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["name","action","data-bs-dismiss","modal","value","Editar","id","btn_action",1,"btn","btn-primary",3,"click"],[3,"ngSwitch"],[4,"ngSwitchCase"],["type","hidden",3,"formControlName"],[1,"mt-1","fw-bold"],["type","text",1,"form-control",3,"formControlName"],[1,"form-select",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Datos Requeridos"),e.k0s(),e.nrm(6,"button",5),e.k0s(),e.j41(7,"div",6)(8,"form",7),e.DNE(9,T,5,4,"ng-container",8),e.k0s()(),e.j41(10,"div",9)(11,"button",10),e.bIt("click",function(){return i.guardarDatos()}),e.EFF(12,"Guardar "),e.k0s()()()()()),2&n&&(e.R7$(8),e.Y8G("formGroup",i.formData),e.R7$(),e.Y8G("ngForOf",i.modal_form))},dependencies:[s.X1,s.qT,s.xH,s.y7,s.me,s.wz,s.BC,s.cb,s.j4,s.JD,m.pM,m.ux,m.e1],encapsulation:2})}return a})(),C=(()=>{class a{constructor(){}ngOnInit(){}campoBusqueda="";termBusqueda=new e.bkB;pasarTermino(t){this.termBusqueda.emit(t)}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=e.VBU({type:a,selectors:[["app-bar-busqueda"]],inputs:{campoBusqueda:"campoBusqueda"},outputs:{termBusqueda:"termBusqueda"},standalone:!0,features:[e.aNF],decls:5,vars:1,consts:[["inputBusqueda",""],[1,"d-flex"],["id","busqueda",1,"form-control",3,"placeholder"],[1,"btn","btn-primary","ms-2",3,"click"],["aria-hidden","true",1,"fa","fa-search"]],template:function(n,i){if(1&n){const r=e.RV6();e.j41(0,"div",1),e.nrm(1,"input",2,0),e.j41(3,"button",3),e.bIt("click",function(){e.eBV(r);const d=e.sdS(2);return e.Njj(i.pasarTermino(d.value))}),e.nrm(4,"i",4),e.k0s()()}2&n&&(e.R7$(),e.Y8G("placeholder","buscar por "+i.campoBusqueda))},encapsulation:2})}return a})(),B=(()=>{class a{constructor(){}funcionModal=new e.bkB;ngOnInit(){}enviarFuncion(){this.funcionModal.emit("a\xf1adir")}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=e.VBU({type:a,selectors:[["app-btn-aniadir"]],outputs:{funcionModal:"funcionModal"},standalone:!0,features:[e.aNF],decls:2,vars:0,consts:[["data-bs-toggle","modal","data-bs-target","#modal_edit",1,"btn","btn-success","m-1","px-5",3,"click"],[1,"fa-solid","fa-plus"]],template:function(n,i){1&n&&(e.j41(0,"button",0),e.bIt("click",function(){return i.enviarFuncion()}),e.nrm(1,"i",1),e.k0s())},encapsulation:2})}return a})();function E(a,l){if(1&a&&(e.j41(0,"td",8),e.EFF(1),e.k0s()),2&a){const t=l.$implicit;e.R7$(),e.SpI(" ",t," ")}}function R(a,l){if(1&a){const t=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG().$implicit,o=e.XpG();return e.Njj(o.pasarImagenModal(r[i]))}),e.EFF(1," Ver Imagen "),e.k0s()}}function q(a,l){if(1&a&&e.EFF(0),2&a){const t=e.XpG().$implicit,n=e.XpG().$implicit;e.SpI(" ",n[t]," ")}}function $(a,l){if(1&a&&(e.j41(0,"td"),e.DNE(1,R,2,0,"button",16)(2,q,1,1),e.k0s()),2&a){const t=l.$implicit,n=e.XpG().$implicit,i=e.XpG();e.R7$(),e.vxM(1,i.esImagen(n[t].toString())?1:2)}}function G(a,l){if(1&a){const t=e.RV6();e.j41(0,"tr"),e.Z7z(1,$,3,1,"td",null,e.Vm6),e.j41(3,"td")(4,"button",12),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.pasarItemModal(i))}),e.nrm(5,"i",13),e.k0s(),e.j41(6,"span"),e.EFF(7," \xa0"),e.k0s(),e.j41(8,"button",14),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.pasarItemEliminar(i))}),e.nrm(9,"i",15),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(),e.Dyx(t.keys)}}let p=(()=>{class a{constructor(){}GenericService;form_structure=[];enlace_imagen="";titulo="sin titulo";keys=[];autoIncrementID=!0;campoBusqueda="";data=[];termBusqueda="";itemData;funcionModal="";dataAux=[];idField="id";ngOnChanges(){this.filtrar()}ngOnInit(){this.cargarDatos(),this.idField=this.keys[0]}cargarDatos(){this.GenericService.getData().subscribe(t=>this.data=t)}filtrar(){""==this.termBusqueda&&this.cargarDatos(),this.data=this.data.filter(t=>t[this.campoBusqueda].toLocaleLowerCase().includes(this.termBusqueda.toLocaleLowerCase()))}filtrarData(t){this.termBusqueda=t,this.filtrar()}pasarImagenModal(t){this.enlace_imagen=t}pasarItemModal(t){this.funcionModal="editar",this.itemData=t}pasarItemCrear(t){this.autoIncrementID&&(t[this.idField]=0),this.GenericService.createData(t).subscribe(()=>{this.cargarDatos()})}pasarItemEditar(t){this.GenericService.updateData(t,t[this.idField]).subscribe(()=>{this.cargarDatos()})}pasarItemEliminar(t){this.GenericService.deleteData(t[this.idField]).subscribe(()=>{this.cargarDatos()})}esImagen(t){return t.startsWith("http")}funcionModalAniadir(t){this.funcionModal=t}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=e.VBU({type:a,selectors:[["app-table-data"]],inputs:{GenericService:"GenericService",form_structure:"form_structure",enlace_imagen:"enlace_imagen",titulo:"titulo",keys:"keys",autoIncrementID:"autoIncrementID",campoBusqueda:"campoBusqueda"},standalone:!0,features:[e.OA$,e.aNF],decls:16,vars:9,consts:[[1,"d-flex","mx-5","my-1","justify-content-between"],[3,"funcionModal"],[1,"text-center"],[3,"termBusqueda","campoBusqueda"],[1,"p-3"],[1,"col-12","table","table-bordered","table-striped"],[1,"table-dark"],["style","font-weight:bold",4,"ngFor","ngForOf"],[2,"font-weight","bold"],[4,"ngFor","ngForOf"],[3,"editarItem","nuevoItem","modal_form","modal_item","funcion","item_keys"],[3,"enlaceImagen"],["type","button","data-bs-toggle","modal","data-bs-target","#modal_edit",1,"btn","btn-primary",3,"click"],[1,"fa-solid","fa-pencil"],["type","button",1,"btn","btn-danger",3,"click"],[1,"fa-solid","fa-trash"],["type","button","data-bs-toggle","modal","data-bs-target","#modal_imagen",1,"btn","btn-primary"],["type","button","data-bs-toggle","modal","data-bs-target","#modal_imagen",1,"btn","btn-primary",3,"click"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"app-btn-aniadir",1),e.bIt("funcionModal",function(o){return i.funcionModalAniadir(o)}),e.k0s(),e.j41(2,"h2",2),e.EFF(3),e.k0s(),e.j41(4,"app-bar-busqueda",3),e.bIt("termBusqueda",function(o){return i.filtrarData(o)}),e.k0s()(),e.j41(5,"div",4)(6,"table",5)(7,"thead")(8,"tr",6),e.DNE(9,E,2,1,"td",7),e.j41(10,"td",8),e.EFF(11," Editar "),e.k0s()()(),e.j41(12,"tbody"),e.DNE(13,G,10,0,"tr",9),e.k0s()()(),e.j41(14,"app-modal-data",10),e.bIt("editarItem",function(o){return i.pasarItemEditar(o)})("nuevoItem",function(o){return i.pasarItemCrear(o)}),e.k0s(),e.nrm(15,"app-modal-img",11)),2&n&&(e.R7$(3),e.SpI(" ",i.titulo,""),e.R7$(),e.Y8G("campoBusqueda",i.campoBusqueda),e.R7$(5),e.Y8G("ngForOf",i.keys),e.R7$(4),e.Y8G("ngForOf",i.data),e.R7$(),e.Y8G("modal_form",i.form_structure)("modal_item",i.itemData)("funcion",i.funcionModal)("item_keys",i.keys),e.R7$(),e.Y8G("enlaceImagen",i.enlace_imagen))},dependencies:[B,C,m.pM,D,y],encapsulation:2})}return a})();var w=c(5260);let M=(()=>{class a{banlistService;constructor(t){this.banlistService=t}ngOnInit(){sessionStorage.getItem("token")}titulo="Tabla de Baneos";searchField="name";keys=["id_ban","name","format","konami_id","limitation","date"];form_structure=[{tipo:"text",etiqueta:"ID Banlist",nombre:"id_ban",deshabilitado:!0},{tipo:"select",etiqueta:"Formato",nombre:"format",opciones:["Master Duel","Duel Links"],deshabilitado:!1},{tipo:"text",etiqueta:"Nombre de la carta",nombre:"name",deshabilitado:!1},{tipo:"text",etiqueta:"Konami ID",nombre:"konami_id",deshabilitado:!1},{tipo:"select",etiqueta:"Limitacion",nombre:"limitation",deshabilitado:!1,opciones:["forbidden","limited","semi-limited","released"]},{tipo:"text",etiqueta:"date",nombre:"date",deshabilitado:!1}];static \u0275fac=function(n){return new(n||a)(e.rXU(w.R))};static \u0275cmp=e.VBU({type:a,selectors:[["app-banlist-admin"]],standalone:!0,features:[e.aNF],decls:1,vars:5,consts:[[3,"form_structure","titulo","keys","campoBusqueda","GenericService"]],template:function(n,i){1&n&&e.nrm(0,"app-table-data",0),2&n&&e.Y8G("form_structure",i.form_structure)("titulo",i.titulo)("keys",i.keys)("campoBusqueda",i.searchField)("GenericService",i.banlistService)},dependencies:[p],encapsulation:2})}return a})();var N=c(7887);let V=(()=>{class a{tierlistService;constructor(t){this.tierlistService=t}title="Tabla de Decks en la Tierlist";searchField="name";keys=["id_tierlist","name","category","url","format","date"];form=[{tipo:"text",nombre:"id_tierlist",etiqueta:"ID Tierlist",deshabilitado:!0},{tipo:"text",nombre:"name",etiqueta:"Nombre del Deck",deshabilitado:!1},{tipo:"select",nombre:"category",etiqueta:"Categoria",deshabilitado:!1,opciones:["Tier 0","Tier 1","Tier 2","Tier 3"]},{tipo:"text",nombre:"url",etiqueta:"URL de la imagen",deshabilitado:!1},{tipo:"select",nombre:"format",etiqueta:"Formato",deshabilitado:!1,opciones:["Master Duel","Duel Links"]},{tipo:"text",nombre:"date",etiqueta:"Fecha de A\xf1adido",deshabilitado:!1}];static \u0275fac=function(n){return new(n||a)(e.rXU(N.M))};static \u0275cmp=e.VBU({type:a,selectors:[["app-tierlist-admin"]],standalone:!0,features:[e.aNF],decls:1,vars:5,consts:[[3,"form_structure","titulo","keys","GenericService","campoBusqueda"]],template:function(n,i){1&n&&e.nrm(0,"app-table-data",0),2&n&&e.Y8G("form_structure",i.form)("titulo",i.title)("keys",i.keys)("GenericService",i.tierlistService)("campoBusqueda",i.searchField)},dependencies:[p],encapsulation:2})}return a})();var _=c(9407);let A=(()=>{class a{playersService;constructor(t){this.playersService=t}title="Tabla de Jugadores";searchField="name";keys=["id_player","picture","name"];form=[{tipo:"text",nombre:"id_player",etiqueta:"ID Player",deshabilitado:!1},{tipo:"text",nombre:"picture",etiqueta:"URL Picture",deshabilitado:!1},{tipo:"text",nombre:"name",etiqueta:"Nombre del Jugador",deshabilitado:!1}];static \u0275fac=function(n){return new(n||a)(e.rXU(_.q))};static \u0275cmp=e.VBU({type:a,selectors:[["app-players-admin"]],standalone:!0,features:[e.aNF],decls:1,vars:6,consts:[[3,"form_structure","titulo","keys","GenericService","campoBusqueda","autoIncrementID"]],template:function(n,i){1&n&&e.nrm(0,"app-table-data",0),2&n&&e.Y8G("form_structure",i.form)("titulo",i.title)("keys",i.keys)("GenericService",i.playersService)("campoBusqueda",i.searchField)("autoIncrementID",!1)},dependencies:[p],encapsulation:2})}return a})();var g=c(1628);let O=(()=>{class a{tournamentService;constructor(t){this.tournamentService=t}title="Tabla de Torneos";searchField="name";keys=["id_tournament","picture","name","format","description","date"];form=[{tipo:"text",nombre:"id_tournament",etiqueta:"ID Torneo",deshabilitado:!1},{tipo:"text",nombre:"picture",etiqueta:"URL Picture",deshabilitado:!1},{tipo:"text",nombre:"name",etiqueta:"Nombre del Torneo",deshabilitado:!1},{tipo:"select",nombre:"format",etiqueta:"Formato",deshabilitado:!1,opciones:["Duel Links","Master Duel"]},{tipo:"text",nombre:"description",etiqueta:"Descripcion",deshabilitado:!1},{tipo:"text",nombre:"date",etiqueta:"Fecha del Torneo",deshabilitado:!1}];static \u0275fac=function(n){return new(n||a)(e.rXU(g.H))};static \u0275cmp=e.VBU({type:a,selectors:[["app-tournament-admin"]],standalone:!0,features:[e.aNF],decls:1,vars:6,consts:[[3,"form_structure","titulo","keys","GenericService","campoBusqueda","autoIncrementID"]],template:function(n,i){1&n&&e.nrm(0,"app-table-data",0),2&n&&e.Y8G("form_structure",i.form)("titulo",i.title)("keys",i.keys)("GenericService",i.tournamentService)("campoBusqueda",i.searchField)("autoIncrementID",!1)},dependencies:[p],encapsulation:2})}return a})();var h=c(9415);let Y=(()=>{class a{resultsService;constructor(t){this.resultsService=t}title="Tabla de Decks en la Tierlist";searchField="name";keys=["id_result","format","id_player_fk","id_tournament_fk","place","points"];form=[{tipo:"text",nombre:"id_result",etiqueta:"ID Tierlist",deshabilitado:!0},{tipo:"select",etiqueta:"Formato",nombre:"format",opciones:["Master Duel","Duel Links"],deshabilitado:!1},{tipo:"text",nombre:"id_player_fk",etiqueta:"ID del jugador",deshabilitado:!1},{tipo:"text",nombre:"id_tournament_fk",etiqueta:"ID del Torneo",deshabilitado:!1},{tipo:"text",nombre:"place",etiqueta:"Lugar Obtenido",deshabilitado:!1},{tipo:"text",nombre:"points",etiqueta:"Puntos Obtenidos",deshabilitado:!1}];static \u0275fac=function(n){return new(n||a)(e.rXU(h.I))};static \u0275cmp=e.VBU({type:a,selectors:[["app-results-admin"]],standalone:!0,features:[e.aNF],decls:1,vars:5,consts:[[3,"form_structure","titulo","keys","GenericService","campoBusqueda"]],template:function(n,i){1&n&&e.nrm(0,"app-table-data",0),2&n&&e.Y8G("form_structure",i.form)("titulo",i.title)("keys",i.keys)("GenericService",i.resultsService)("campoBusqueda",i.searchField)},dependencies:[p],encapsulation:2})}return a})();var k=c(1626),L=c(6354);let U=(()=>{class a{http;baseURL="https://api.start.gg/gql/alpha";token="195f7f7b8f9b328953835a76c69cd23b";constructor(t){this.http=t}getEventID(t){let n=t.indexOf("tournament"),i=t.indexOf("/overview"),r=t.substring(n,i);const o=JSON.stringify({query:'\n        query EventStandings($slug: String) {\n          event(slug: $slug) {\n            id\n            name\n            startAt\n            videogame {\n              name\n            }\n            tournament {\n              images(type: "profile") {\n                url\n              }\n            }\n            entrants(query: {}) {\n                \n              nodes {\n                id\n                paginatedSets{\n\n                    nodes {\n\n                        fullRoundText\n                        winnerId\n                        games{\n                            winnerId\n                        }\n                    }\n                }\n                participants {\n                     gamerTag\n                  id\n                  user {\n                    id\n                    images(type: "profile") {\n                      url\n                      \n                    }\n                  }\n                  \n                                \n               } \n                }\n              }\n            }\n          }                \n        ',variables:{slug:r}});return this.http.post(this.baseURL,o,this.getHeader()).pipe((0,L.T)(d=>d.data.event))}getHeader(){return{headers:new k.Lr({Authorization:`Bearer ${this.token}`})}}static \u0275fac=function(n){return new(n||a)(e.KVO(k.Qq))};static \u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function P(a,l){if(1&a&&(e.j41(0,"tr")(1,"td",17),e.EFF(2),e.k0s(),e.j41(3,"td",17),e.nrm(4,"img",18),e.k0s(),e.j41(5,"td",17),e.EFF(6),e.k0s(),e.j41(7,"td",17),e.EFF(8),e.k0s(),e.j41(9,"td",17),e.EFF(10),e.k0s(),e.j41(11,"td",17),e.EFF(12),e.k0s()()),2&a){const t=l.$implicit;e.R7$(2),e.SpI(" ",t.id_tournament,""),e.R7$(2),e.Y8G("src",t.picture,e.B4B),e.R7$(2),e.SpI(" ",t.format,""),e.R7$(2),e.SpI(" ",t.name,""),e.R7$(2),e.SpI(" ",t.description,""),e.R7$(2),e.SpI(" ",t.date,"")}}function X(a,l){if(1&a&&(e.j41(0,"tr")(1,"td",17),e.EFF(2),e.k0s(),e.j41(3,"td",17),e.nrm(4,"img",18),e.k0s(),e.j41(5,"td",17),e.EFF(6),e.k0s(),e.j41(7,"td",17),e.EFF(8),e.k0s()()),2&a){const t=l.$implicit,n=l.index;e.R7$(2),e.SpI(" ",n,""),e.R7$(2),e.Y8G("src",t.picture,e.B4B),e.R7$(2),e.SpI(" ",t.id_player,""),e.R7$(2),e.SpI(" ",t.name,"")}}function J(a,l){if(1&a&&(e.j41(0,"tr")(1,"td",17),e.EFF(2),e.k0s(),e.j41(3,"td",17),e.EFF(4),e.k0s(),e.j41(5,"td",17),e.EFF(6),e.k0s(),e.j41(7,"td",17),e.EFF(8),e.k0s(),e.j41(9,"td",17),e.EFF(10),e.k0s(),e.j41(11,"td",17),e.EFF(12),e.k0s(),e.j41(13,"td",17),e.EFF(14),e.k0s(),e.j41(15,"td",17),e.EFF(16),e.k0s()()),2&a){const t=l.$implicit,n=l.index;e.R7$(2),e.SpI(" ",n,""),e.R7$(2),e.SpI(" ",t.format,""),e.R7$(2),e.SpI(" ",t.id_player_fk,""),e.R7$(2),e.SpI(" ",t.id_tournament_fk,""),e.R7$(2),e.SpI(" ",t.sets_played,""),e.R7$(2),e.SpI(" ",t.sets_winned,""),e.R7$(2),e.SpI(" ",t.games_played,""),e.R7$(2),e.SpI(" ",t.games_winned,"")}}let x=(()=>{class a{starggService;playersService;tournamentsService;resultsService;constructor(t,n,i,r){this.starggService=t,this.playersService=n,this.tournamentsService=i,this.resultsService=r}tournaments=[];players=[];results=[];currentPlayers=[];ngOnInit(){this.getCurrentPlayers()}getCurrentPlayers(){this.playersService.getData().subscribe(t=>this.currentPlayers=t)}cargarDatos(t){this.starggService.getEventID(t).subscribe(n=>{const i=this.clasificarDatos(t,n);this.tournaments=i.tournaments,this.players=this.newPlayers(this.currentPlayers,i.players),this.results=i.results})}clasificarDatos(t,n){console.log(n);const i={id_tournament:n.id,picture:n.tournament.images.length>0?n.tournament.images[0].url:"assets/blank_foto_webp",date:new Date(1e3*n.startAt).toLocaleDateString(),format:n.videogame.name.substring(10),description:t,name:n.name},r=[];r.push(i);let d=[],f=[];return n.entrants.nodes.forEach(u=>{d.push({id_player:u.participants[0].user.id,name:u.participants[0].gamerTag,picture:u.participants[0].user.images.length>0?u.participants[0].user.images[0].url:"assets/blank_foto.webp"});let F=u.paginatedSets.nodes,[Q,Z]=this.count_sets(F,u.id),[ee,te]=this.count_games(F,u.id),ae={id_result:0,id_player_fk:u.participants[0].user.id,id_tournament_fk:n.id,format:n.videogame.name.substring(10),sets_winned:Q,sets_played:Z,games_played:te,games_winned:ee};f.push(ae)}),{tournaments:r,players:d,results:f}}newPlayers(t,n){return n.filter(i=>!t.find(r=>i.id_player===r.id_player))}count_sets(t,n){let i=0,r=t.length;return t.forEach(o=>{o.winnerId==n&&i++}),[i,r]}count_games(t,n){let i=0,r=0;return t.forEach(o=>{o.games&&(r+=o.games.length,o.games.forEach(d=>{d.winnerId==n&&i++}))}),[i,r]}insertPlayersBulk(){this.playersService.createDataBulk(this.players).subscribe(()=>{this.players=[]})}insertResultsBulk(){this.resultsService.createDataBulk(this.results).subscribe(()=>{this.results=[]})}insertTournament(){this.tournamentsService.createData(this.tournaments[0]).subscribe(()=>{this.tournaments=[]})}static \u0275fac=function(n){return new(n||a)(e.rXU(U),e.rXU(_.q),e.rXU(g.H),e.rXU(h.I))};static \u0275cmp=e.VBU({type:a,selectors:[["app-stargg"]],standalone:!0,features:[e.aNF],decls:83,vars:3,consts:[["inputBusqueda",""],["btnTournament",""],["btnPlayers",""],["btnResults",""],[1,"row","justify-content-center"],[1,"col-9","fw-bold","h4"],[1,"d-flex","col-9","align-middle"],["id","busqueda","placeholder","Escriba la URL del Evento",1,"form-control"],[1,"btn","btn-primary","ms-2",3,"click"],["aria-hidden","true",1,"fa","fa-search"],[1,"col-9","d-flex"],[1,"m-2","fw-bold","h4"],["disabled","true",1,"m-2","btn","btn-primary",3,"click"],[1,"table","table-bordered","table-striped"],[1,"table-dark"],[1,"text-center","fw-bold"],[4,"ngFor","ngForOf"],[1,"text-center"],["height","75","width","75",1,"rounded-circle","object-fit-cover",3,"src"]],template:function(n,i){if(1&n){const r=e.RV6();e.j41(0,"div",4)(1,"p",5),e.EFF(2," Escriba la URL del evento :"),e.k0s(),e.j41(3,"div",6),e.nrm(4,"input",7,0),e.j41(6,"button",8),e.bIt("click",function(){e.eBV(r);const d=e.sdS(5);return e.Njj(i.cargarDatos(d.value))})("click",function(){e.eBV(r);const d=e.sdS(13),f=e.sdS(38),u=e.sdS(59);return d.disabled=!1,f.disabled=!1,e.Njj(u.disabled=!1)}),e.nrm(7,"i",9),e.k0s()()(),e.j41(8,"div",4)(9,"div",10)(10,"p",11),e.EFF(11," Torneos :"),e.k0s(),e.j41(12,"button",12,1),e.bIt("click",function(){return e.eBV(r),e.Njj(i.insertTournament())})("click",function(){e.eBV(r);const d=e.sdS(13);return e.Njj(d.disabled=!0)}),e.EFF(14," Insertar Torneo "),e.k0s()(),e.j41(15,"div",6)(16,"table",13)(17,"thead")(18,"tr",14)(19,"td",15),e.EFF(20," ID del Torneo"),e.k0s(),e.j41(21,"td",15),e.EFF(22," Picture"),e.k0s(),e.j41(23,"td",15),e.EFF(24," Formato"),e.k0s(),e.j41(25,"td",15),e.EFF(26," Nombre del Torneo"),e.k0s(),e.j41(27,"td",15),e.EFF(28," URL"),e.k0s(),e.j41(29,"td",15),e.EFF(30," Fecha"),e.k0s()()(),e.j41(31,"tbody"),e.DNE(32,P,13,6,"tr",16),e.k0s()()()(),e.j41(33,"div",4)(34,"div",10)(35,"p",11),e.EFF(36," Jugadores :"),e.k0s(),e.j41(37,"button",12,2),e.bIt("click",function(){return e.eBV(r),e.Njj(i.insertPlayersBulk())})("click",function(){e.eBV(r);const d=e.sdS(38);return e.Njj(d.disabled=!0)}),e.EFF(39," Insertar Jugadores "),e.k0s()(),e.j41(40,"div",6)(41,"table",13)(42,"thead")(43,"tr",14)(44,"td",15),e.EFF(45," #"),e.k0s(),e.j41(46,"td",15),e.EFF(47," Picture"),e.k0s(),e.j41(48,"td",15),e.EFF(49," ID del Jugador"),e.k0s(),e.j41(50,"td",15),e.EFF(51," Nombre del Jugador"),e.k0s()()(),e.j41(52,"tbody"),e.DNE(53,X,9,4,"tr",16),e.k0s()()()(),e.j41(54,"div",4)(55,"div",10)(56,"p",11),e.EFF(57," Resultados :"),e.k0s(),e.j41(58,"button",12,3),e.bIt("click",function(){return e.eBV(r),e.Njj(i.insertResultsBulk())})("click",function(){e.eBV(r);const d=e.sdS(59);return e.Njj(d.disabled=!0)}),e.EFF(60," Insertar Resultados "),e.k0s()(),e.j41(61,"div",6)(62,"table",13)(63,"thead")(64,"tr",14)(65,"td",15),e.EFF(66," #"),e.k0s(),e.j41(67,"td",15),e.EFF(68," Formato"),e.k0s(),e.j41(69,"td",15),e.EFF(70," ID del Jugador"),e.k0s(),e.j41(71,"td",15),e.EFF(72," ID del Torneo"),e.k0s(),e.j41(73,"td",15),e.EFF(74," Sets Jugados"),e.k0s(),e.j41(75,"td",15),e.EFF(76," Sets Ganados"),e.k0s(),e.j41(77,"td",15),e.EFF(78," Juegos Jugados"),e.k0s(),e.j41(79,"td",15),e.EFF(80," Juegos Ganados"),e.k0s()()(),e.j41(81,"tbody"),e.DNE(82,J,17,8,"tr",16),e.k0s()()()()}2&n&&(e.R7$(32),e.Y8G("ngForOf",i.tournaments),e.R7$(21),e.Y8G("ngForOf",i.players),e.R7$(29),e.Y8G("ngForOf",i.results))},dependencies:[m.pM],encapsulation:2})}return a})();var H=c(2183),z=c(9533);const K=[{path:"banlist",component:M,title:"Admin - Banlist"},{path:"tierlist",component:V,title:"Admin - Tierlist"},{path:"players",component:A,title:"Admin - Players"},{path:"tournaments",component:O,title:"Admin - Tournament"},{path:"results",component:Y,title:"Admin - Results"},{path:"stargg-api",component:x,title:"Admin - Stargg-API"},{path:"login",component:(()=>{class a{authsService;username="";password="";constructor(t){this.authsService=t}ngOnInit(){}login(){this.authsService.login({username:this.username,password:this.password}).subscribe()}static \u0275fac=function(n){return new(n||a)(e.rXU(z.u))};static \u0275cmp=e.VBU({type:a,selectors:[["app-login"]],standalone:!0,features:[e.aNF],decls:16,vars:2,consts:[[1,"vh-100","d-flex","align-items-center","justify-content-center",2,"background-color","aliceblue"],[1,"row","rounded","p-5","border","border-dark",2,"width","max-content","background-color","bisque"],[1,"text-center","fw-bold"],["method","POST","autocomplete","on"],[1,"form-outline","mb-4"],["for","loginName",1,"form-label","fw-bold"],["type","text","name","username","required","requiered","autocomplete","on",1,"form-control",3,"ngModelChange","ngModel"],["for","loginPassword",1,"form-label","fw-bold"],["type","password","name","password","required","requiered","autocomplete","on",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-center"],["routerLink","../profile",1,"btn","btn-primary",3,"click"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"h2",2),e.EFF(3," INGRESAR "),e.k0s(),e.j41(4,"form",3)(5,"div",4)(6,"label",5),e.EFF(7,"Usuario :"),e.k0s(),e.j41(8,"input",6),e.mxI("ngModelChange",function(o){return e.DH7(i.username,o)||(i.username=o),o}),e.k0s()(),e.j41(9,"div",4)(10,"label",7),e.EFF(11,"Password :"),e.k0s(),e.j41(12,"input",8),e.mxI("ngModelChange",function(o){return e.DH7(i.password,o)||(i.password=o),o}),e.k0s()()(),e.j41(13,"div",9)(14,"a",10),e.bIt("click",function(){return i.login()}),e.EFF(15,"Login"),e.k0s()()()()),2&n&&(e.R7$(8),e.R50("ngModel",i.username),e.R7$(4),e.R50("ngModel",i.password))},dependencies:[s.X1,s.qT,s.me,s.BC,s.cb,s.YS,s.YN,s.vS,s.cV,H.Wk],encapsulation:2})}return a})(),title:"Login"}]}}]);